# 部署管理面板 - 快速开始

## 🎉 部署管理面板已创建！

部署管理面板是一个强大的可视化工具，帮助您监控和管理服务器。

---

## 🚀 访问面板

部署完成后，访问：

```
http://122.51.22.101/admin
```

---

## ✨ 主要功能

### 1️⃣ 容器管理
- ✅ 查看所有 Docker 容器
- ✅ 实时查看容器日志
- ✅ 一键重启容器

### 2️⃣ 数据库监控
- ✅ PostgreSQL 连接状态
- ✅ 数据表数量统计
- ✅ 连接延迟监控

### 3️⃣ 系统监控
- ✅ CPU 使用率（实时）
- ✅ 内存使用情况
- ✅ 磁盘使用情况
- ✅ 系统负载
- ✅ 运行时间
- ✅ Docker 容器资源使用

---

## 📊 面板截图

### 系统概览
- CPU、内存、磁盘使用率
- 系统运行时间
- 自动每 30 秒刷新

### 容器管理
- 容器列表（运行/停止状态）
- 容器日志实时查看
- 一键重启功能

### 数据库状态
- 连接状态（已连接/未连接）
- 端口状态（开放/关闭）
- 数据表数量
- 连接延迟

### 系统监控
- Docker 容器资源使用
- CPU 和内存占用可视化

---

## 🔐 安全提醒

⚠️ **重要**：在生产环境中，请务必：

1. **添加认证**：不要开放无认证的管理面板
2. **使用 HTTPS**：加密传输
3. **限制 IP**：只允许特定 IP 访问
4. **定期检查**：查看访问日志

### 添加简单认证（示例）

```bash
# 在 Nginx 配置中添加
location /admin {
    auth_basic "Restricted Access";
    auth_basic_user_file /etc/nginx/.htpasswd;

    proxy_pass http://127.0.0.1:5000;
    # ... 其余配置
}

# 创建密码文件
sudo htpasswd -c /etc/nginx/.htpasswd admin
```

---

## 📱 使用指南

### 查看容器状态
1. 访问 `/admin` 页面
2. 点击"容器管理"标签
3. 查看所有容器状态

### 查看容器日志
1. 在容器列表中点击一个容器
2. 右侧会显示该容器的实时日志

### 重启容器
1. 在容器列表中找到目标容器
2. 点击"重启"按钮
3. 确认操作

### 查看数据库状态
1. 点击"数据库状态"标签
2. 查看数据库连接信息
3. 检查数据表数量和连接延迟

### 查看系统资源
1. 点击"系统监控"标签
2. 查看 CPU、内存、磁盘使用情况
3. 查看 Docker 容器资源占用

---

## 🔧 常用操作

### 刷新数据
点击页面右上角的"刷新数据"按钮

### 自动刷新
面板每 30 秒自动刷新一次数据

### 查看完整日志
点击"查看容器日志"，可以查看最新的 100 行日志

---

## 📝 API 接口

面板使用以下 API 接口：

- `GET /api/admin/docker/ps` - 获取容器状态
- `GET /api/admin/docker/logs?container=xxx&tail=100` - 获取容器日志
- `POST /api/admin/docker/restart` - 重启容器
- `GET /api/admin/system/stats` - 获取系统统计
- `GET /api/admin/database/status` - 获取数据库状态

---

## 🆘 常见问题

### Q: 为什么看不到容器？
A: 确保容器已启动，使用 `docker ps` 检查

### Q: 日志显示为空？
A: 容器可能刚启动，等待片刻后刷新

### Q: 数据库显示未连接？
A: 检查数据库白名单和连接配置

### Q: 如何修改刷新频率？
A: 在 `src/app/admin/page.tsx` 中修改 `setInterval` 的间隔时间

---

## 📞 获取帮助

- 完整文档：`ADMIN_PANEL.md`
- 部署文档：`DEPLOYMENT.md`

---

**部署管理面板已集成到项目中，部署后即可使用！** 🎉
